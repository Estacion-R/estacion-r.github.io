function updateMatch(o,e){const l=document.getElementById(o);if(!l)throw Error("Element not found.");l.querySelectorAll(".match").forEach(n=>{if(n.getAttribute("data-match-id")===e.id.toString()){const t=n.querySelector(".participant:nth-of-type(1)");t&&(e.opponent1?.id?(t.setAttribute("data-participant-id",e.opponent1?.id?.toString()),bracketsViewer.participants.forEach(i=>{i.id===e.opponent1?.id&&(t.setAttribute("title",i.name),t.getElementsByClassName("name")[0].innerHTML=i.name)})):(t.setAttribute("data-participant-id",""),t.setAttribute("title",""),t.getElementsByClassName("name")[0].innerHTML=""),e.opponent1?.result==="win"?(t.classList.add("win"),t.classList.remove("loss")):e.opponent1?.result==="loss"?(t.classList.add("loss"),t.classList.remove("win")):(t.classList.remove("win"),t.classList.remove("loss")));const s=n.querySelector(".participant:nth-of-type(2)");s&&(e.opponent2?.id?(s.setAttribute("data-participant-id",e.opponent2?.id?.toString()),bracketsViewer.participants.forEach(i=>{i.id===e.opponent2?.id&&(s.setAttribute("title",i.name),s.getElementsByClassName("name")[0].innerHTML=i.name)})):(s.setAttribute("data-participant-id",""),s.setAttribute("title",""),s.getElementsByClassName("name")[0].innerHTML=""),e.opponent2?.result==="win"?(s.classList.add("win"),s.classList.remove("loss")):e.opponent2?.result==="loss"?(s.classList.add("loss"),s.classList.remove("win")):(s.classList.remove("win"),s.classList.remove("loss")));const r=n.querySelector(".participant:nth-of-type(1) .result");r&&(e.opponent1?.score?r.innerHTML=e.opponent1?.score?.toString():r.innerHTML="-");const a=n.querySelector(".participant:nth-of-type(2) .result");a&&(e.opponent2?.score?a.innerHTML=e.opponent2?.score?.toString():a.innerHTML="-")}})}HTMLWidgets.shinyMode&&Shiny.addCustomMessageHandler("updateBracketsViewer",function(o){updateMatch(o.id+"-brackets-viewer",o.data)});
