<!DOCTYPE html>
<html lang="en">
    <head>
        
<script id="mcjs">!function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}(document,"script","https://chimpstatic.com/mcjs-connected/js/users/c1cf8fb6c9dfcb4c672a80c8d/6ea6c190124f36653b279617c.js");</script>

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Pablo Tiscornia">
<meta name="description" content="¬øSab√≠as que Taylor Swift viene hace
#install.packages(&amp;#39;gtrendsR&amp;#39;)library(gtrendsR)library(tidyverse)library(gt)library(glue)library(magick)library(patchwork)library(png)library(grid)Analizando la tendencia de #software en ArgentinaMediante el siguiente c√≥digo vamos a jugar con el paquete {gtrendsR} y ver c√≥mo de forma muy sencilla podemos trabajar con tendencias de Google directamente desde R.
Caso de usoSupongamos que necesitamos (si, ne-ce-si-ta-mos) conocer en qu√© lugar se encuentra R entre las b√∫squedas de google y, sobre todo (s√≠, so-bre-to-do) compararlo con sus compa√±eros de cuarto: PYTHON, SPSS y STATA." />
<meta name="keywords" content=", rstatES, google, tendencias, trends, rstats" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://estacion-r.netlify.app/draft/r-tendencias-de-google/" />




    <title>
        
            R &#43; Tendencias de Google: ¬øMessi o Taylor Swift? :: Estaci√≥n üá∑ 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="https://estacion-r.netlify.app/main.2b2aff83103a75e8bb97afd71207f490b64858992128ccdc0d7a08690fa018ba.css">



    <link rel="apple-touch-icon" sizes="180x180" href="https://estacion-r.netlify.app/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://estacion-r.netlify.app/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://estacion-r.netlify.app/favicon-16x16.png">
    <link rel="manifest" href="https://estacion-r.netlify.app/site.webmanifest">
    <link rel="mask-icon" href="https://estacion-r.netlify.app/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="https://estacion-r.netlify.app/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="R &#43; Tendencias de Google: ¬øMessi o Taylor Swift?">
<meta itemprop="description" content="¬øSab√≠as que Taylor Swift viene hace
#install.packages(&#39;gtrendsR&#39;)library(gtrendsR)library(tidyverse)library(gt)library(glue)library(magick)library(patchwork)library(png)library(grid)Analizando la tendencia de #software en ArgentinaMediante el siguiente c√≥digo vamos a jugar con el paquete {gtrendsR} y ver c√≥mo de forma muy sencilla podemos trabajar con tendencias de Google directamente desde R.
Caso de usoSupongamos que necesitamos (si, ne-ce-si-ta-mos) conocer en qu√© lugar se encuentra R entre las b√∫squedas de google y, sobre todo (s√≠, so-bre-to-do) compararlo con sus compa√±eros de cuarto: PYTHON, SPSS y STATA."><meta itemprop="datePublished" content="2024-02-06T00:00:00+00:00" />
<meta itemprop="dateModified" content="2024-02-06T00:00:00+00:00" />
<meta itemprop="wordCount" content="695">
<meta itemprop="keywords" content="rstatES,google,tendencias,trends,rstats," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="R &#43; Tendencias de Google: ¬øMessi o Taylor Swift?"/>
<meta name="twitter:description" content="¬øSab√≠as que Taylor Swift viene hace
#install.packages(&#39;gtrendsR&#39;)library(gtrendsR)library(tidyverse)library(gt)library(glue)library(magick)library(patchwork)library(png)library(grid)Analizando la tendencia de #software en ArgentinaMediante el siguiente c√≥digo vamos a jugar con el paquete {gtrendsR} y ver c√≥mo de forma muy sencilla podemos trabajar con tendencias de Google directamente desde R.
Caso de usoSupongamos que necesitamos (si, ne-ce-si-ta-mos) conocer en qu√© lugar se encuentra R entre las b√∫squedas de google y, sobre todo (s√≠, so-bre-to-do) compararlo con sus compa√±eros de cuarto: PYTHON, SPSS y STATA."/>




    <meta property="og:title" content="R &#43; Tendencias de Google: ¬øMessi o Taylor Swift?" />
<meta property="og:description" content="¬øSab√≠as que Taylor Swift viene hace
#install.packages(&#39;gtrendsR&#39;)library(gtrendsR)library(tidyverse)library(gt)library(glue)library(magick)library(patchwork)library(png)library(grid)Analizando la tendencia de #software en ArgentinaMediante el siguiente c√≥digo vamos a jugar con el paquete {gtrendsR} y ver c√≥mo de forma muy sencilla podemos trabajar con tendencias de Google directamente desde R.
Caso de usoSupongamos que necesitamos (si, ne-ce-si-ta-mos) conocer en qu√© lugar se encuentra R entre las b√∫squedas de google y, sobre todo (s√≠, so-bre-to-do) compararlo con sus compa√±eros de cuarto: PYTHON, SPSS y STATA." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://estacion-r.netlify.app/draft/r-tendencias-de-google/" /><meta property="article:section" content="draft" />
<meta property="article:published_time" content="2024-02-06T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-02-06T00:00:00+00:00" />







    <meta property="article:published_time" content="2024-02-06 00:00:00 &#43;0000 UTC" />









    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0ZC91NVHQK"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-0ZC91NVHQK', { 'anonymize_ip': false });
}
</script>



    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://estacion-r.netlify.app/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">&gt;</span>
            <span class="logo__text">$ cd/estacion-r</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://estacion-r.netlify.app/posts/">Blog</a></li><li><a href="https://estacion-r.netlify.app/cursos_r/">Ense√±ar &#43; R</a></li><li><a href="https://estacion-r.netlify.app/perfil/">Autor</a></li><li><a href="https://estacion-r.netlify.app/proyectos/">Proyectos</a></li><li><a href="https://estacion-r.netlify.app/suscripcion/">Suscripci√≥n</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://estacion-r.netlify.app/draft/r-tendencias-de-google/">R + Tendencias de Google: ¬øMessi o Taylor Swift?</a></h2>

            
            
            

            <div class="post-content">
                


<p>¬øSab√≠as que <a href="https://www.taylorswift.com/">Taylor Swift</a> viene hace</p>
<pre class="r"><code>#install.packages(&#39;gtrendsR&#39;)
library(gtrendsR)
library(tidyverse)
library(gt)
library(glue)
library(magick)
library(patchwork)
library(png)
library(grid)</code></pre>
<div id="analizando-la-tendencia-de-software-en-argentina" class="section level2">
<h2>Analizando la tendencia de #software en Argentina</h2>
<p>Mediante el siguiente c√≥digo vamos a jugar con el paquete <code>{gtrendsR}</code> y ver c√≥mo de forma muy sencilla podemos trabajar con tendencias de Google directamente desde R.</p>
</div>
<div id="caso-de-uso" class="section level2">
<h2>Caso de uso</h2>
<p>Supongamos que necesitamos (si, ne-ce-si-ta-mos) conocer en qu√© lugar se encuentra R entre las b√∫squedas de google y, sobre todo (s√≠, so-bre-to-do) compararlo con sus compa√±eros de cuarto: PYTHON, SPSS y STATA.</p>
</div>
<div id="manos-en-la-masa" class="section level2">
<h2>Manos en la masa</h2>
<p>Lo primero que vamos a hacer es crear un obejto <code>tendencias</code> mediante la funci√≥n <code>gtrends()</code> almacenaremos el resultado de una consulta a la API de Google en base a un t√©rmino particular que definamos. La funci√≥n es muy sencilla, con s√≥lo especificar en el par√°metro <code>keyword =</code> qu√© palabras queremos extraer la funci√≥n har√° el trabajo sucio de devolvernos, entre todas las b√∫squedas, aquellas relativas a esa palabra. Pero hay que decir que para ciertos t√©rminos esta tarea puede no ser tan simple (aunque se resuelve bastante f√°cil).</p>
<p>En el caso de programas como R, el t√©rmino que definimos es una letra, por lo que Google puede traernos resultados de b√∫squedas que no tengan que ver con R como programa para procesamiento de informaci√≥n estad√≠stica. Para ello vamos a recurrir a los <strong>COMO DIABLOS SE LLAMA</strong>.</p>
<p>La idea es que, siempre que se busque a R como programa estad√≠stico, Google le asigna un <em>id</em> espec√≠fico que permite discernir entre b√∫squedas. Lo mismo para el resto de las palabras, por lo que, una vez aclarado esto, la sentencia final quedar√≠a as√≠:</p>
<pre class="r"><code>tendencias &lt;- gtrends(
  keyword = c(&quot;Messi&quot;, &quot;Taylor Swift&quot;),
  gprop = &quot;web&quot;,
  #geo = &quot;AR&quot;,
  time = &quot;today+5-y&quot;)</code></pre>
<pre class="r"><code>### Me quedo con la comparaci√≥n entre regiones
#tend_region &lt;- tendencias$interest_by_region

tend_tiempo &lt;- tendencias$interest_over_time |&gt; 
  mutate(hits = case_when(hits == &quot;&lt;1&quot; ~ ifelse(is.character(hits), &quot;0&quot;, 0),
                          .default = hits),
         hits = as.numeric(hits))

hits_min &lt;- min(tend_tiempo$hits)
hits_max &lt;- max(tend_tiempo$hits)
date_max &lt;- tend_tiempo |&gt; filter(hits == hits_max) |&gt; pull(date)
quien_max &lt;- tend_tiempo |&gt; filter(hits == hits_max) |&gt; pull(keyword)
date_min &lt;- tend_tiempo |&gt; filter(hits == hits_min) |&gt; pull(date) |&gt; max()

sysfonts::font_add_google(name = &quot;Gamja Flower&quot;)
showtext::showtext_auto()
#fuetes &lt;- sysfonts::font_info_google()

p &lt;- 
  tend_tiempo %&gt;% 
  ggplot(aes(x = date, y = hits, group = keyword, col = keyword)) +
  geom_line(color = &quot;#252525&quot;) +
  geom_smooth(span=0.2, se=FALSE) +
  scale_color_manual(values = c(&quot;#75aadb&quot;, &quot;#b454b4&quot;)) +
  geom_point(x = date_max, y = hits_max, color = &quot;green&quot;) +
  geom_hline(yintercept = 0) + 
  scale_x_datetime(breaks = &quot;1 year&quot;, date_labels = &quot;%Y&quot;) +
  annotate(geom = &quot;text&quot;, x = date_max, y = hits_max, 
           label = glue(&quot;{month(date_max, label = TRUE)} - {year(date_max)}: {quien_max}&quot;),
           hjust = 1.1) +
  ### Taylor
  geom_curve(x = 1641184000, 
             y = 90, 
             xend = 1679184000, 
             yend = 10,
             curvature = -0.4, color = &quot;#b454b4&quot;,
             arrow = arrow(length = unit(0.03, &quot;npc&quot;))) +
  annotate(geom = &quot;text&quot;, 
           x = date_max, 
           y = 90, color = &quot;#b454b4&quot;,
           size = 15,
           label = &quot;Comienza la gira The Eras Tour&quot;,
           hjust = 1.8) +
  ### Messi
  geom_curve(x = 1641184000, 
             y = 75, 
             xend = 1668902400, 
             yend = 25,
             curvature = -0.4, color = &quot;#75aadb&quot;,
             arrow = arrow(length = unit(0.03, &quot;npc&quot;))) +
  annotate(geom = &quot;text&quot;, 
           x = date_max, 
           y = 75, 
           size = 15,
           color = &quot;#75aadb&quot;,
           label = &quot;Comienza El Mundial de futbol&quot;,
           hjust = 1.8) +
  labs(title = glue(&quot;Googlear: Messi y Taylor Swift. Evolucion {year(today())-5}-{year(today())}&quot;), 
       x = &quot;Fecha&quot;, y = &quot;Interes relativo&quot;, caption = &quot;Source: Google Trends&quot;) +
  theme_minimal() +
  theme(
    text = element_text(color = &quot;white&quot;, size = 50, family = &quot;Gamja Flower&quot;),
    title = element_text(size = 70),
    panel.grid.major = element_blank(),
    panel.grid.minor = element_blank(),
    axis.line = element_line(color = &quot;white&quot;),
    axis.text = element_text(color = &quot;white&quot;),
    legend.position = &quot;none&quot;
  )
#p


### Agrego logo de mate
messi &lt;- readPNG(here::here(&quot;content/draft/2021-12-01-r-tendencias-de-google/img/messi.png&quot;), native = TRUE)
taylor &lt;- readPNG(here::here(&quot;content/draft/2021-12-01-r-tendencias-de-google/img/taylor.png&quot;), native = TRUE)

g_messi &lt;- rasterGrob(messi, 
                width = .2, 
                height = .3)
g_taylor &lt;- rasterGrob(taylor, 
                       width = .2, 
                       height = .3)

# camcorder::gg_record(
#   dir = &quot;img&quot;,
#   width = 12,
#   height = 12 * 9 / 16,
#   dpi = 300,
#   bg = &quot;black&quot;
# )

p &lt;- p +
  annotation_custom(g_messi, xmin = 1545728000, xmax = 1634728000, ymin = 50, ymax = 100) +
  annotation_custom(g_taylor, xmin = 1563728000, xmax = 1617728000, ymin = 60, ymax = 130)</code></pre>
<p><img src="img/2024_02_08_19_03_48.675165.png" /></p>
</div>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://estacion-r.netlify.app/tags/rstates/">rstatES</a></span>
        <span class="tag"><a href="https://estacion-r.netlify.app/tags/google/">google</a></span>
        <span class="tag"><a href="https://estacion-r.netlify.app/tags/tendencias/">tendencias</a></span>
        <span class="tag"><a href="https://estacion-r.netlify.app/tags/trends/">trends</a></span>
        <span class="tag"><a href="https://estacion-r.netlify.app/tags/rstats/">rstats</a></span>
        
    </p>

            
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2024</span>
            <span><a href="https://estacion-r.netlify.app/">Pablo Tiscornia</a></span>
            
            <span><a href="https://estacion-r.netlify.app/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
            
        </div>
    </div>
    
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span><span>Made by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
        </div>
    </div>
    
</footer>

            
        </div>

        



<script type="text/javascript" src="https://estacion-r.netlify.app/bundle.min.18199b5b12b49221b3a37bd7922e5f71cc8f3601ed0f25c9eeb7d7b18f17d2398cc2db1784f2de04615069e8190e65c1edc58c73c67d4de54f355730d72d08e9.js" integrity="sha512-GBmbWxK0kiGzo3vXki5fccyPNgHtDyXJ7rfXsY8X0jmMwtsXhPLeBGFQaegZDmXB7cWMc8Z9TeVPNVcw1y0I6Q=="></script>



    </body>
</html>
